body {
    font-family: Arial, sans-serif;
    /* จัดกึ่งกลางทั้งแนวตั้งและแนวนอน */
    display: flex;
    justify-content: center;
    align-items: center;
    /* ใช้ min-height 100vh เพื่อให้เต็มจอในแนวตั้งบนมือถือ */
    min-height: 100vh;
    background-color: #f0f0f0;
    margin: 0;
    padding: 10px; 
    box-sizing: border-box;
}

.container {
    text-align: center;
    background: #ffffff;
    padding: 15px; 
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    /* ให้ container กว้างได้ถึง 98% ของ Viewport และจำกัดขนาดสูงสุด */
    width: 98vw; 
    max-width: 1000px; 
    overflow-x: auto;
    box-sizing: border-box; 
}

h1 {
    color: #333;
    font-size: 1.5em; 
}

.status-panel {
    margin-bottom: 15px;
    display: flex;
    /* จัดชิดซ้าย-ขวา และให้บรรทัดลงได้เมื่อจอเล็ก */
    justify-content: space-between; 
    align-items: center;
    flex-wrap: wrap; 
    gap: 8px; 
    font-size: 0.9em;
}

/* จัดการความกว้างขององค์ประกอบใน status-panel บนจอใหญ่ */
.status-panel > * {
    flex-grow: 1; 
    min-width: 100px; 
}

#reset-button {
    padding: 8px 10px; 
    font-size: 14px;
    cursor: pointer;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
}

#difficulty-select {
    padding: 6px;
    border-radius: 5px;
}

/* รูปแบบสำหรับตารางเกม */
.grid-container {
    display: inline-grid;
    border: 3px solid #666;
    margin: 10px auto;
    max-width: 100%; 
    overflow: hidden;
}

/* รูปแบบสำหรับแต่ละช่อง (Cell) */
.cell {
    /* **Responsive Unit:** ใช้ vw (Viewport Width) */
    width: 1.8vw; 
    height: 1.8vw;
    line-height: 1.8vw;
    
    /* จำกัดขนาดขั้นต่ำและสูงสุดสำหรับจอต่างๆ */
    min-width: 12px; 
    min-height: 12px;
    max-width: 20px; 
    max-height: 20px;

    border: 1px solid #bbb;
    background-color: #ccc;
    cursor: pointer;
    font-size: 1.1vw; 
    font-weight: bold;
    text-align: center;
    user-select: none;
    /* จัดข้อความ/สัญลักษณ์ให้อยู่กึ่งกลางจริงๆ */
    display: flex;
    justify-content: center;
    align-items: center;
}

.cell:hover:not(.opened):not(.flagged) {
    background-color: #ddd;
}

/* รูปแบบเมื่อช่องถูกเปิดแล้ว */
.opened {
    background-color: #eee;
    border: 1px solid #ddd;
    cursor: default;
}

/* รูปแบบสำหรับธงและระเบิด */
.flagged {
    background-color: #f0ad4e; 
}

.mine {
    background-color: #d9534f; 
}

/* สีสำหรับตัวเลขบอกจำนวนระเบิด (n1 ถึง n8) */
.n1 { color: blue; }
.n2 { color: green; }
.n3 { color: red; }
.n4 { color: darkblue; }
.n5 { color: brown; }
.n6 { color: cyan; }
.n7 { color: black; }
.n8 { color: gray; }

/* ------------------------------------------------------------------ */
/* สไตล์สำหรับ Action Menu (Pop-up) */
/* ------------------------------------------------------------------ */
.action-menu {
    position: absolute; /* ลอยอยู่เหนือองค์ประกอบอื่น */
    z-index: 1000;
    background-color: #fff;
    border: 2px solid #333;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    padding: 5px;
    display: flex; /* จัดเรียงปุ่มในแนวนอน */
    gap: 5px;
}

.action-menu button {
    padding: 8px 12px;
    font-size: 14px;
    cursor: pointer;
    border: none;
    border-radius: 4px;
    transition: background-color 0.2s;
    white-space: nowrap; /* ป้องกันข้อความในปุ่มไม่ให้ขึ้นบรรทัดใหม่ */
}

#menu-flag {
    background-color: #f0ad4e;
    color: white;
}

#menu-dig {
    background-color: #4CAF50;
    color: white;
}


/* ------------------------------------------------------------------ */
/* Media Query สำหรับหน้าจอขนาดเล็ก (Mobile First Adjustments) */
/* ------------------------------------------------------------------ */
@media (max-width: 600px) {
    body {
        padding: 5px;
    }
    
    .container {
        width: 100%;
        padding: 10px 5px;
        box-shadow: none; 
    }

    .status-panel {
        /* จัดวางให้ Timer และ Mines Count อยู่ในบรรทัดเดียวกัน */
        justify-content: space-between;
        gap: 5px;
        font-size: 0.9em;
    }

    /* จัดกลุ่ม Dropdown/Timer/Mines/Reset ให้อยู่ในแถวเดียวกันเมื่อเป็นจอเล็ก */
    .status-panel > * {
        flex-basis: 48%; /* ให้แต่ละรายการกินพื้นที่ประมาณครึ่งนึง */
        min-width: unset;
        font-size: 0.9em;
    }
    
    /* ให้ Status และ Reset button อยู่คนละแถวและเต็มความกว้าง */
    #game-status, #reset-button {
        flex-basis: 100%; 
    }

    /* **การปรับขนาด Cell สำหรับมือถือ:** */
    .cell {
        /* เปลี่ยนไปใช้ขนาดใหญ่ขึ้น (เช่น 4vw) เพื่อให้แตะได้ง่าย */
        width: 4vw; 
        height: 4vw;
        line-height: 4vw;
        /* ปรับขนาดฟอนต์ให้ใหญ่ขึ้น */
        font-size: 3vw; 
        
        /* ยกเลิก Max-width/Max-height เพื่อให้ขนาด vw ทำงานได้เต็มที่ */
        max-width: unset;
        max-height: unset;
    }
}
